"use strict";(self.webpackChunknasa_latest_epic=self.webpackChunknasa_latest_epic||[]).push([[93],{93:(e,t,r)=>{r.d(t,{Ay:()=>ye});class n extends Error{name="BaseError";cause;constructor(e,t={}){super(e,t.cause?{cause:t.cause}:void 0),this.cause=t.cause}}class a extends n{name="AddFrame.InvalidDomainManifest";constructor(){super("Invalid domain manifest")}}class o extends n{name="AddFrame.RejectedByUser";constructor(){super("Add frame rejected by user")}}class i extends n{name="SignIn.RejectedByUser";constructor(){super("Sign in rejected by user")}}var s=r(476);const c=s.z.string().url().startsWith("https://",{message:"Must be an https url"}).max(512),l=s.z.string().max(32),u=s.z.string().max(32),d=s.z.string().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),b=s.z.object({header:s.z.string(),payload:s.z.string(),signature:s.z.string()}),f=(s.z.object({fid:s.z.number(),type:s.z.literal("app_key"),key:s.z.string().startsWith("0x")}),s.z.object({type:s.z.literal("launch_frame"),name:l,url:c,splashImageUrl:c.optional(),splashBackgroundColor:d.optional()})),p=s.z.discriminatedUnion("type",[f]),m=s.z.object({title:u,action:p}),v=(s.z.object({version:s.z.literal("next"),imageUrl:c,button:m}),s.z.object({url:s.z.string(),token:s.z.string()})),h=(s.z.object({notificationId:s.z.string().max(128),title:s.z.string().max(32),body:s.z.string().max(128),targetUrl:c,tokens:s.z.string().array().max(100)}),s.z.object({result:s.z.object({successfulTokens:s.z.array(s.z.string()),invalidTokens:s.z.array(s.z.string()),rateLimitedTokens:s.z.array(s.z.string())})}),s.z.object({event:s.z.literal("frame_added"),notificationDetails:v.optional()})),g=s.z.object({event:s.z.literal("frame_removed")}),w=s.z.object({event:s.z.literal("notifications_enabled"),notificationDetails:v.required()}),y=s.z.object({event:s.z.literal("notifications_disabled")}),P=(s.z.discriminatedUnion("event",[h,g,w,y]),s.z.object({version:s.z.union([s.z.literal("0.0.0"),s.z.literal("0.0.1"),s.z.literal("1"),s.z.literal("next")]),name:l,iconUrl:c,homeUrl:c,imageUrl:c.optional(),buttonTitle:u.optional(),splashImageUrl:c.optional(),splashBackgroundColor:d.optional(),webhookUrl:c.optional()}));s.z.object({accountAssociation:b,frame:P.optional()});var j=r(228);const E=Symbol("Comlink.proxy"),O=Symbol("Comlink.endpoint"),R=Symbol("Comlink.releaseProxy"),x=Symbol("Comlink.finalizer"),z=Symbol("Comlink.thrown"),_=e=>"object"==typeof e&&null!==e||"function"==typeof e,L=new Map([["proxy",{canHandle:e=>_(e)&&e[E],serialize(e){const{port1:t,port2:r}=new MessageChannel;return k(e,t),[r,[r]]},deserialize:e=>(e.start(),C(e))}],["throw",{canHandle:e=>_(e)&&z in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function k(e,t=globalThis,r=["*"]){t.addEventListener("message",(function n(a){if(!a||!a.data)return;if(!function(e,t){for(const r of e){if(t===r||"*"===r)return!0;if(r instanceof RegExp&&r.test(t))return!0}return!1}(r,a.origin))return void console.warn(`Invalid origin '${a.origin}' for comlink proxy`);const{id:o,type:i,path:s}=Object.assign({path:[]},a.data),c=(a.data.argumentList||[]).map(D);let l;try{const t=s.slice(0,-1).reduce(((e,t)=>e[t]),e),r=s.reduce(((e,t)=>e[t]),e);switch(i){case"GET":l=r;break;case"SET":t[s.slice(-1)[0]]=D(a.data.value),l=!0;break;case"APPLY":l=r.apply(t,c);break;case"CONSTRUCT":l=function(e){return Object.assign(e,{[E]:!0})}(new r(...c));break;case"ENDPOINT":{const{port1:t,port2:r}=new MessageChannel;k(e,r),l=function(e,t){return I.set(e,t),e}(t,[t])}break;case"RELEASE":l=void 0;break;default:return}}catch(e){l={value:e,[z]:0}}Promise.resolve(l).catch((e=>({value:e,[z]:0}))).then((r=>{const[a,s]=F(r);t.postMessage(Object.assign(Object.assign({},a),{id:o}),s),"RELEASE"===i&&(t.removeEventListener("message",n),M(t),x in e&&"function"==typeof e[x]&&e[x]())})).catch((e=>{const[r,n]=F({value:new TypeError("Unserializable return value"),[z]:0});t.postMessage(Object.assign(Object.assign({},r),{id:o}),n)}))})),t.start&&t.start()}function M(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function C(e,t){const r=new Map;return e.addEventListener("message",(function(e){const{data:t}=e;if(!t||!t.id)return;const n=r.get(t.id);if(n)try{n(t)}finally{r.delete(t.id)}})),U(e,r,[],t)}function A(e){if(e)throw new Error("Proxy has been released and is not useable")}function S(e){return B(e,new Map,{type:"RELEASE"}).then((()=>{M(e)}))}const T=new WeakMap,N="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(T.get(e)||0)-1;T.set(e,t),0===t&&S(e)}));function U(e,t,r=[],n=function(){}){let a=!1;const o=new Proxy(n,{get(n,i){if(A(a),i===R)return()=>{!function(e){N&&N.unregister(e)}(o),S(e),t.clear(),a=!0};if("then"===i){if(0===r.length)return{then:()=>o};const n=B(e,t,{type:"GET",path:r.map((e=>e.toString()))}).then(D);return n.then.bind(n)}return U(e,t,[...r,i])},set(n,o,i){A(a);const[s,c]=F(i);return B(e,t,{type:"SET",path:[...r,o].map((e=>e.toString())),value:s},c).then(D)},apply(n,o,i){A(a);const s=r[r.length-1];if(s===O)return B(e,t,{type:"ENDPOINT"}).then(D);if("bind"===s)return U(e,t,r.slice(0,-1));const[c,l]=q(i);return B(e,t,{type:"APPLY",path:r.map((e=>e.toString())),argumentList:c},l).then(D)},construct(n,o){A(a);const[i,s]=q(o);return B(e,t,{type:"CONSTRUCT",path:r.map((e=>e.toString())),argumentList:i},s).then(D)}});return function(e,t){const r=(T.get(t)||0)+1;T.set(t,r),N&&N.register(e,t,e)}(o,e),o}function q(e){const t=e.map(F);return[t.map((e=>e[0])),(r=t.map((e=>e[1])),Array.prototype.concat.apply([],r))];var r}const I=new WeakMap;function F(e){for(const[t,r]of L)if(r.canHandle(e)){const[n,a]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},a]}return[{type:"RAW",value:e},I.get(e)||[]]}function D(e){switch(e.type){case"HANDLER":return L.get(e.name).deserialize(e.value);case"RAW":return e.value}}function B(e,t,r,n){return new Promise((a=>{const o=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.set(o,a),e.start&&e.start(),e.postMessage(Object.assign({id:o},r),n)}))}const W={postMessage:e=>{console.debug("[webview:req]",e),window.ReactNativeWebView.postMessage(JSON.stringify(e))},addEventListener:(e,t,...r)=>{document.addEventListener("FarcasterFrameCallback",t,...r)},removeEventListener:(e,t)=>{document.removeEventListener("FarcasterFrameCallback",t)}},G=C("undefined"==typeof window?{postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}}:window?.ReactNativeWebView?W:function(e,t=globalThis,r="*"){return{postMessage:(t,n)=>e.postMessage(t,r,n),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}(window?.parent??window));class H extends Error{constructor(e,t={}){const r=(()=>{if(t.cause instanceof H){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause?.message?t.cause.message:t.details})(),n=t.cause instanceof H&&t.cause.docsPath||t.docsPath,a=`https://oxlib.sh${n??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||n?["",r?`Details: ${r}`:void 0,n?`See: ${a}`:void 0]:[]].filter((e=>"string"==typeof e)).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=a,this.docsPath=n,this.shortMessage=e}walk(e){return J(this,e)}}function J(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&e.cause?J(e.cause,t):t?null:e}function $(e,t={}){const{raw:r=!1}=t,n=e;if(r)return e;if(n.error){const{code:e}=n.error;throw new(e===oe.code?oe:e===Y.code?Y:e===ae.code?ae:e===re.code?re:e===ee.code?ee:e===ne.code?ne:e===Z.code?Z:e===ie.code?ie:e===X.code?X:e===K.code?K:e===Q.code?Q:e===te.code?te:V)(n.error)}return n.result}class V extends Error{constructor(e){const{code:t,message:r,data:n}=e;super(r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.data=n}}class Y extends V{constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:Y.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(Y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class X extends V{constructor(e={}){super({message:"Requested resource not found.",...e,code:X.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(X,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class K extends V{constructor(e={}){super({message:"Requested resource not available.",...e,code:K.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(K,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Q extends V{constructor(e={}){super({message:"Transaction creation failed.",...e,code:Q.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(Q,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Z extends V{constructor(e={}){super({message:"Method is not implemented.",...e,code:Z.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(Z,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class ee extends V{constructor(e={}){super({message:"Rate limit exceeded.",...e,code:ee.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class te extends V{constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:te.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(te,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class re extends V{constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:re.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(re,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class ne extends V{constructor(e={}){super({message:"Method does not exist.",...e,code:ne.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(ne,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ae extends V{constructor(e={}){super({message:"Invalid method parameters.",...e,code:ae.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(ae,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class oe extends V{constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:oe.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}}Object.defineProperty(oe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ie extends V{constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:ie.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(ie,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class se extends Error{constructor(e,t){super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=t}}class ce extends se{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(ce,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class le extends se{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(le,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ue extends se{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(ue,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class de extends se{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(de,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class be extends se{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(be,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class fe extends H{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}const pe=function(){const e=new j;return{get eventNames(){return e.eventNames.bind(e)},get listenerCount(){return e.listenerCount.bind(e)},get listeners(){return e.listeners.bind(e)},addListener:e.addListener.bind(e),emit:e.emit.bind(e),off:e.off.bind(e),on:e.on.bind(e),once:e.once.bind(e),removeAllListeners:e.removeAllListeners.bind(e),removeListener:e.removeListener.bind(e)}}(),me=function(e={}){let t=e.id??0;return{prepare:e=>function(e){return{...e,jsonrpc:"2.0"}}({id:t++,...e}),get id(){return t}}}(),ve=function(e,t={}){const{includeEvents:r=!0}=t;if(!e)throw new fe;return{...r?{on:e.on?.bind(e),removeListener:e.removeListener?.bind(e)}:{},async request(t){const r=await e.request(t);return r&&"object"==typeof r&&"jsonrpc"in r?$(r):r}}}({...pe,async request(e){const t=me.prepare(e);try{const e=await G.ethProviderRequestV2(t).then((e=>$(e,{request:t,raw:!0})));if(e.error)throw function({code:e,details:t}){switch(e){case 4001:return new ce;case 4100:return new le;case 4200:return new ue;case 4900:return new de;case 4901:return new be;default:return new se(e,t??"Unknown provider RPC error")}}(e.error);return e.result}catch(e){if(e instanceof Error&&e.message.match(/cannot read property 'apply'/i))return await G.ethProviderRequest(t);if(e instanceof se||e instanceof V)throw e;throw new oe({message:e instanceof Error?e.message:void 0})}}});function he(e){const t=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(e)});window.dispatchEvent(t);const r=()=>window.dispatchEvent(t);return window.addEventListener("eip6963:requestProvider",r),()=>window.removeEventListener("eip6963:requestProvider",r)}"undefined"!=typeof document&&(document.addEventListener("eip6963:requestProvider",(()=>{G.eip6963RequestProvider()})),document.addEventListener("FarcasterFrameEthProviderEvent",(e=>{if(e instanceof MessageEvent){const t=e.data;pe.emit(t.event,...t.params)}})),document.addEventListener("FarcasterFrameEvent",(e=>{if(e instanceof MessageEvent){const t=e.data;"eip6963:announceProvider"===t.event&&he({info:t.info,provider:ve})}}))),"undefined"!=typeof window&&(window.addEventListener("eip6963:requestProvider",(()=>{G.eip6963RequestProvider()})),window.addEventListener("message",(e=>{if(e instanceof MessageEvent&&"frameEthProviderEvent"===e.data.type){const t=e.data;pe.emit(t.event,...t.params)}})),window.addEventListener("message",(e=>{if(e instanceof MessageEvent&&"frameEvent"===e.data.type){const t=e.data.event;"eip6963:announceProvider"===t.event&&he({info:t.info,provider:ve})}})));const ge=function(){const e=new j;return{get eventNames(){return e.eventNames.bind(e)},get listenerCount(){return e.listenerCount.bind(e)},get listeners(){return e.listeners.bind(e)},addListener:e.addListener.bind(e),emit:e.emit.bind(e),off:e.off.bind(e),on:e.on.bind(e),once:e.once.bind(e),removeAllListeners:e.removeAllListeners.bind(e),removeListener:e.removeListener.bind(e)}}(),we={...ge,context:G.context,actions:{setPrimaryButton:G.setPrimaryButton.bind(G),ready:G.ready.bind(G),close:G.close.bind(G),viewProfile:G.viewProfile.bind(G),signIn:async e=>{const t=await G.signIn(e);if(t.result)return t.result;if("rejected_by_user"===t.error.type)throw new i;throw new Error("Unreachable")},openUrl:e=>G.openUrl(e.trim()),addFrame:async()=>{const e=await G.addFrame();if(e.result)return e.result;if("invalid_domain_manifest"===e.error.type)throw new a;if("rejected_by_user"===e.error.type)throw new o;throw new Error("Unreachable")}},wallet:{ethProvider:ve}};"undefined"!=typeof document&&document.addEventListener("FarcasterFrameEvent",(e=>{if(e instanceof MessageEvent){const t=e.data;"primary_button_clicked"===t.event?ge.emit("primaryButtonClicked"):"frame_added"===t.event?ge.emit("frameAdded",{notificationDetails:t.notificationDetails}):"frame_add_rejected"===t.event?ge.emit("frameAddRejected",{reason:t.reason}):"frame_removed"===t.event?ge.emit("frameRemoved"):"notifications_enabled"===t.event?ge.emit("notificationsEnabled",{notificationDetails:t.notificationDetails}):"notifications_disabled"===t.event&&ge.emit("notificationsDisabled")}})),"undefined"!=typeof window&&window.addEventListener("message",(e=>{if(e instanceof MessageEvent&&"frameEvent"===e.data.type){const t=e.data.event;"primary_button_clicked"===t.event?ge.emit("primaryButtonClicked"):"frame_added"===t.event?ge.emit("frameAdded",{notificationDetails:t.notificationDetails}):"frame_add_rejected"===t.event?ge.emit("frameAddRejected",{reason:t.reason}):"frame_removed"===t.event?ge.emit("frameRemoved"):"notifications_enabled"===t.event?ge.emit("notificationsEnabled",{notificationDetails:t.notificationDetails}):"notifications_disabled"===t.event&&ge.emit("notificationsDisabled")}}));const ye=we},228:e=>{var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,o||e,i),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,o=n.length,i=new Array(o);a<o;a++)i[a]=n[a].fn;return i},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,a,o,i){var s=r?r+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,o),!0;case 6:return u.fn.call(u.context,t,n,a,o,i),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var b,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,a);break;default:if(!c)for(b=1,c=new Array(d-1);b<d;b++)c[b-1]=arguments[b];u[l].fn.apply(u[l].context,c)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,a){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return i(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||i(this,o);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||a&&!s[c].once||n&&s[c].context!==n)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:i(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}}]);